<?xml version='1.0' encoding='ISO-8859-1'?>
<!--
//
// Portion of this file is inspired from the  GForge Command-line Interface
// contained in GForge.
// Copyright 2005 GForge, LLC
// http://gforge.org/
// CodeX: Breaking Down the Barriers to Source Code Sharing inside Xerox
//
// 
//
// Written by Marc Nazarian 2006, CodeX Team, Xerox
//
-->
<chapter id="Modules">
    <title>Fonctions et paramètres des modules</title>

    <section id="CoreFunctions">
        <title>Fonction du noyau</title>
        
        <para>Ces fonctions ne font pas paeties d'un module spécifique. Les voici :</para>
        
        <section id="CoreFunctionLogin">
            <title>login</title>
            <para>login: Connection et identification au serveur.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--username: Spécifie le nom d'utilisateur avec lequel vous allez travailler. 
                        Le nom d'utilisateur est le même que celui que vous utilisez habituellement sur
                        la page de connexion du site CodeX.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--password: Spécifie le mot de passe associé au username pour vous authentifier.
                        Si le mot de passe n'est pas précisé, il vous sera demandé intéractivement.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du project sur lequel vous voulez travailler. 
                        Si vous ne le spécifiez pas maintenant, chaque appel ultérieur de fonction 
                        nécessitera de spécifier le projet auquel la fonction doit s'appliquer.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande de login</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php login --username=john --password=johnpass --project=myproject
Logged in.
(OR)
[mnazaria@linux codex cli ]$ ./codex.php login --username=marc --project=myproject
Password:
Logged in.
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>

        <section id="CoreFunctionLogout">
            <title>logout</title>
            <para>logout: Termine une session. Efface toutes les informations de session de votre ordinateur.
                <para>
                    <example>
                        <title>commande de logout</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php logout
Session terminated.
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>
    </section>

    <section id="TrackerFunctions">
        <title>Fonctions des trackers</title>
        
        <section id="TrackerFunctionTrackerList">
            <title>trackerlist</title>
            <para>
                trackerlist : Affiche la liste des trackers d'un projet (sans la structure des trackers).
                <note>
                    <para>La structure des trackers n'est plus retournée par cette fonction. 
                    Si vous souhaitez obtenir la structure de tous les trackers d'un projet, 
                    veuillez désormais utiliser la fonction "trackers" (<xref linkend="TrackerFunctionTrackers" />).</para>
                </note>
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié
                        lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, 
                        une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande trackerlist</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker trackerlist --project=guineapig
Array
(
    [0] => Array
           (
            [group_artifact_id] => 113
            [group_id] => 5
            [name] => Bugs
            [description] => Bugs Tracker
            [item_name] => bug
            [open_count] => 3
            [total_count] => 15
           )
    [1] => Array
           (
            [group_artifact_id] => 114
            [group_id] => 5
            [name] => Support Requests
            [description] => Support Requests Tracker
            [item_name] => SR
            [open_count] => 40
            [total_count] => 50
            )
)
                        </programlisting>
                    </example>
                </para>
            </para>
        </section>

        <section id="TrackerFunctionTrackers">
            <title>trackers</title>
            <para>
                trackers : Affiche la liste des trackers d'un projet (avec leur structure).
                <note>
                    <para>Comme cette fonction retourne toute la structure de tous les trackers d'un projet,
                    il se peut qu'elle devienne un peu lente avec des projets contenant beaucoup de trackers.
                    Le cas échéant, vous pouvez utiliser la fonction "trackerlist", (voir <xref linkend="TrackerFunctionTrackerList" />)
                    suivie de la fonction "tracker" (<xref linkend="TrackerFunctionTracker" />)
                    pour obtenir la structure du tracker souhaité.
                    </para>
                </note>
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié
                        lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, 
                        une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande trackers</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker trackers --project=guineapig
Array
(
    [0] => Array
           (
            [group_artifact_id] => 113
            [group_id] => 5
            [name] => Bugs
            [description] => Bugs Tracker
            [item_name] => bug
            [open_count] => 3
            [total_count] => 15
            [field_sets] => Array
            (... liste des trackers, des field sets et des fields ...)
                        </programlisting>
                    </example>
                </para>
            </para>
        </section>
        
        <section id="TrackerFunctionTracker">
            <title>tracker</title>
            <para>
                tracker : Affiche la structure d'un tracker.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--tracker_id* : ID du tracker.</para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié
                        lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, 
                        une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande tracker</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker tracker --project=guineapig --tracker_id=159
Array
(
    [0] => Array
           (
            [group_artifact_id] => 159
            [group_id] => 5
            [name] => Bugs
            [description] => Bugs Tracker
            [item_name] => bug
            [open_count] => 3
            [total_count] => 15
            [field_sets] => Array
            (... liste des des field sets et des fields ...)
                        </programlisting>
                    </example>
                </para>
            </para>
        </section>

        <section id="TrackerFunctionList">
            <title>list</title>
            <para>
                list: Affiche la liste des artefacts appartenant au tracker spécifié.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--tracker_id* : ID du tracker.</para>
                    </listitem>
                    <listitem>
                        <para>--limit: Nombre maximum d'artefacts retournés.</para>
                    </listitem>
                    <listitem>
                        <para>--offset: Nombre d'artefacts qui seront "sautés" (ce paramètre ne peut pas être utilisé seul, il doit être accompagné du paramètre limit).</para>
                    </listitem>
                    <listitem>
                        <para>--[nom du champ][opérateur][valeur]: critère de filtre pour les artefacts retournés. Fonctionne avec les champs standards et les champs utilisateurs.</para>
                        <para>Exemple : "--open_date>2006-05-21" --assigned_to=135 --status_id=0.</para>
                        <para>Les opérateurs autorisés sont &gt;, &gt;=, =, &lt;, &lt;=, &lt;&gt;.</para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié
                        lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, 
                        une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                <example>
                    <title>commande list</title>
                    <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker list --tracker_id=113 --status=0 --assigned_to=142
Array
(
    [0] => Array
            (
                [artifact_id] => 7173
                [group_artifact_id] => 113
                [status_id] => 0
                [submitted_by] => 102
                [open_date] => 1115311786
                [close_date ] => 1125064392
                [summary] => New bug
                [details] => small bug
                [severity] => 3
                [extra_fields] => Array
                                    (
                                        [0] => Array
                                                (
                                                    [field_id] => 128
                                                    [field_value] => 142
                                                )
                                        [1] => Array
                                                (
                                                    [field_id] => 129
                                                    [field_value] => 41
                                                )
                                        [2] => Array
                                                (
                                                    [field_id] => 130
                                                    [field_value] => 42
                                                )
                                    )
            )
)
                    </programlisting>
                </example>
                <note>Note: Dans cet exemple, "assigned_to" correspond à un champ utilisateur et 
                      142 est la valeur recherchée pour ce champ. Nous retrouvons ce champs dans 
                      la liste des "extra_fields" avec le field_id 128.
                </note>
                </para>
            </para>
        </section>

        <section id="TrackerFunctionAdd">
            <title>add</title>
            <para>
                add: Ajoute un artefact au tracker.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--tracker_id* : ID du tracker dans lequel le nouvel artefact sera ajouté.</para>
                    </listitem>
                    <listitem>
                        <para>--summary: Summary de l'artefact.</para>
                    </listitem>
                    <listitem>
                        <para>--details: Details de l'artefact.</para>
                    </listitem>
                    <listitem>
                        <para>--status_id: Status_id de l' artefact.</para>
                    </listitem>
                    <listitem>
                        <para>--severity: Severity de l'artefact (1: basse, 9: haute).</para>
                    </listitem>
                    <listitem>
                        <para>--[nom extra field]: Valeur de l'extra field. Le nom de l'extra field doit être le nom du champ (field_name). La valeur de l'extra_field dépend de son type. Pour les champs multi-valués, séparez les valeurs par une virgule.</para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié
                        lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, 
                        une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                <example>
                    <title>commande add</title>
                    <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker add --tracker_id=371 --summary="Back button is not working" --details="When I read my email and I press the back button, a blank page appears" --severity=4 --assigned_to=142
Confirm you want to add a new tracker with the following information:
group_id: 160
group_artifact_id: 371
summary: Back button is not working
details: When I read my email and I press the back button, a blank page appears
severity: 4
assigned_to: 142
Is this information correct? (y/n): y
7374
                    </programlisting>
                </example>
                <note>Note: Dans cet exemple, "assigned_to" correspond à un extra_field et 
                      142 est une valeur valide pour ce champ.
                      La valeur retournée (7374) est l'identifiant du nouvel artefact.
                </note>
                </para>
            </para>
        </section>

        <section id="TrackerFunctionUpdate">
            <title>update</title>
            <para>
                update: Mise à jour de l'artefact.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--tracker_id* : ID du tracker auquel appartient l'artefact à modifier.</para>
                    </listitem>
                    <listitem>
                        <para>--id* : ID de l'artefact à modifier.</para>
                    </listitem>
                    <listitem>
                        <para>--status_id: Nouveau status de l'artefact.</para>
                    </listitem>
                    <listitem>
                        <para>--summary: Summary de l'artefact.</para>
                    </listitem>
                    <listitem>
                        <para>--details: Details de l'artefact.</para>
                    </listitem>
                    <listitem>
                        <para>--severity: Severity de l'artefact (1: Basse, 9: Haute).</para>
                    </listitem>
                    <listitem>
                        <para>--[nom extra_field]: Valeur de l'extra field. La valeur de l'extra field dépend de son type.</para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié
                        lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, 
                        une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                <example>
                    <title>commande update</title>
                    <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker update --tracker_id=371 --id=7374 --severity=6 --extra_field_notice_textfield="Increased priority"
Confirm you want to update the tracker with the following information:
group_id: 160
group_artifact_id: 371
severity: 6
extra_field_notice_textfield="Increased priority"
Is this information correct? (y/n): y
7374
                    </programlisting>
                </example>
                </para>
            </para>
        </section>

        <section id="TrackerFunctionComments">
            <title>comments</title>
            <para>
                comments: Affiche tous les commentaires d'un artefatc.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--tracker_id* : ID du tracker.</para>
                    </listitem>
                    <listitem>
                        <para>--id* : ID de l'artefact.</para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié
                        lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, 
                        une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                <example>
                    <title>commande comments</title>
                    <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker comments --tracker_id=371 --id=7374
Array
(
    [0] => Array
        (
        [artifact_id] => 7374
        [comment] => we will keep them gray
        [date] => 1117810766
        [by] => 142
        [comment_type_id] => 100
        )
    [1] => Array
        (
        [artifact_id] => 7374
        [comment] => maybe we can add a gradient
        [date] => 1117809234
        [by] => 135
        [comment_type_id] => 100
        )
    [2] => Array
        (
        [artifact_id] => 7374
        [comment] => i think most buttons should be green
        [date] => 1117723406
        [by] => 1142
        [comment_type_id] => 100
        )
)
                    </programlisting>
                </example>
                </para>
            </para>
        </section>

        <section id="TrackerFunctionAddComment">
            <title>addcomment</title>
            <para>
                addcomment: Ajoute un commentaire à un artefact.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--tracker_id* : ID du tracker auquel appartient l'artefact.</para>
                    </listitem>
                    <listitem>
                        <para>--id* : ID de l'artefact.</para>
                    </listitem>
                    <listitem>
                        <para>--message* : Message du commentaire.</para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié
                        lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, 
                        une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                <example>
                    <title>commande addcomment</title>
                    <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker addcomment --tracker_id=371 --id=7374 --message="I agree with you"
                    </programlisting>
                </example>
                </para>
            </para>
        </section>

        <section id="TrackerFunctionAddCC">
            <title>addCC</title>
            <para>
                addCC: Ajoute une liste d'adresses email ou de logins à la liste des CC d'un artefact.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--tracker_id* : ID du tracker auquel appartient l'artefact.</para>
                    </listitem>
                    <listitem>
                        <para>--id* : ID de l'artefact.</para>
                    </listitem>
                    <listitem>
                        <para>--cc_list*: Liste d'adresses email et/ou de logins à ajouter à la liste des CC.</para>
                    </listitem>
                    <listitem>
                        <para>--cc_comment: Commentaire optionnel associé à la liste des CC ajoutés.</para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié
                        lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, 
                        une erreur sera affichée.</para>
                    </listitem>
                </itemizedlist>
                <para>
                <example>
                    <title>commande addCC</title>
                    <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker addCC --tracker_id=371 --id=7374 --cc_list="marc.nazarian@xrce.xerox.com, mnazaria, bsmith, james.brown@server.net"
                    </programlisting>
                </example>
                </para>
            </para>
        </section>
<!--

        <section id="TrackerFunctionFiles">
            <title>files</title>
            <para>
                files: Show a list of files attached to the artifact.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>__tracker_id* : Tracker ID.</para>
                    </listitem>
                    <listitem>
                        <para>__id* : Artifact ID.</para>
                    </listitem>
                    <listitem>
                        <para>__project: UNIX name of the project. If none is specified, the project specified when you logged in will be used. If none was specified at that time, an error will be displayed.</para>
                    </listitem>
                </itemizedlist>
                <para>
                <example>
                    <title>files command</title>
                    <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker files __tracker_id=116 __id=3
Array
(
    [0] => Array
        (
            [id] => 11
            [artifact_id] => 3
            [name] => screenshot.jpg
            [description] => 11
            [filesize] => 364983
            [filetype] => image/jpeg
            [adddate] => 1124372802
            [submitted_by] => 102
        )
)
                    </programlisting>
                </example>
                </para>
            </para>
        </section>

        <section id="TrackerFunctionGetFile">
            <title>getfile</title>
            <para>
                getfile: Download a file from an artifact.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>__tracker_id* : Tracker ID.</para>
                    </listitem>
                    <listitem>
                        <para>__id* : Artifact ID.</para>
                    </listitem>
                    <listitem>
                        <para>__file id* : ID of the file to download.</para>
                    </listitem>
                    <listitem>
                        <para>__output: File name to save the file as. If not specified, the contents of the file are outputted to the screen.</para>
                    </listitem>
                    <listitem>
                        <para>__project: UNIX name of the project. If none is specified, the project specified when you logged in will be used. If none was specified at that time, an error will be displayed.</para>
                    </listitem>
                </itemizedlist>
                <para>
                <example>
                    <title>getfile command</title>
                    <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker getfile __type=116 __id=3 __file_id=11 __output=/home/mnazaria/screenshot.jpg
File retrieved successfully.
                    </programlisting>
                 </example>
                </para>
            </para>
        </section>

        <section id="TrackerFunctionAddFile">
            <title>addfile</title>
            <para>
                addfile: Attach a file to an artifact.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>__tracker_id* : Tracker ID.</para>
                    </listitem>
                    <listitem>
                        <para>__id* : Artifact ID.</para>
                    </listitem>
                    <listitem>
                        <para>__file* : Local file to attach.</para>
                    </listitem>
                    <listitem>
                        <para>__description: Description of the file.</para>
                    </listitem>
                    <listitem>
                        <para>__project: UNIX name of the project. If none is specified, the project specified when you logged in will be used. If none was specified at that time, an error will be displayed.</para>
                    </listitem>
                </itemizedlist>
                <para>
                <example>
                    <title>addfile command</title>
                    <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php tracker addfile __type=116 __id=3 __file=/home/mnazaria/image_patch.diff __description="This is the patch to apply"
                    </programlisting>
                </example>
                <note>Note: The value returned (12) is the ID of the new file.</note>
                <note>Note: The mail notification system is not implemented for the moment.</note>
                </para>
            </para>
        </section>

        <section id="TrackerFunctionTechnicians">
            <para>
                
            </para>
        </section>
-->
    </section>

        <section id="FRSFunctions">
        <title>Fonctions du système de gestion des fichiers</title>
        
        <section id="FRSFunctionPackages">
            <title>packages</title>
            <para>packages: Affiche une liste des paquets disponibles pour un projet
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande packages</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php frs packages --project=myproject
Array
(
    [0] => Array 
            (
                [package_id] => 13
                [group_id] => 121
                [name] => CodeX installation
                [status_id] => 1
                [rank] => 10
                [approve_license] => 1
             )
    [1] => Array 
            (
                [package_id] => 64
                [group_id] => 121
                [name] => CLI installation
                [status_id] => 1
                [rank] => 20
                [approve_license] => 1
             )
)
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>

        <section id="FRSFunctionAddPackage">
            <title>addpackage</title>
            <para>addpackage: Ajoute un paquet au système de gestion de fichier.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--name*: nom du nouveau paquet à ajouter.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--status_id: status_id du paquet. Par défaut, le statut est actif.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--rank: ordre d'affichage du paquet. Par défaut (si non spécifié), le rang est 0.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande addpackage</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php frs addpackage --project=myproject --name="my_new_package" --status_id=1
65
                        </programlisting>
                    </example>
                    <note>Note: La valeur retournée (65) est l'identifiant du nouveau paquet créé.</note>
               </para>
            </para>
        </section>
        
        <section id="FRSFunctionReleases">
            <title>releases</title>
            <para>releases: Affiche une liste des versions disponibles pour un projet et un paquet donné.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--package_id*: l'identifiant du paquet
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande releases</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php frs releases --package_id=6
Array
(
    [0] => Array 
            (
                [release_id] => 73
                [package_id] => 6
                [name] => CodeX 2.8
                [note] => 
                [changes] => New incredible functions in this new versions.
                [status_id] => 1
                [release_date] => 1163776835
                [released_by] => 142
             )
    [1] => Array 
            (
                [release_id] => 78
                [package_id] => 6
                [name] => CodeX 3.0
                [note] => CodeX platform in version 3.0
                [changes] => So crazy changes for this new release !
                [status_id] => 1
                [release_date] => 1163776125
                [released_by] => 142
             )
     ...
)
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>
        
        <section id="FRSFunctionAddRelease">
            <title>addrelease</title>
            <para>addrelease: Ajoute une version au système de gestion des fichiers.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--package_id*: l'identifiant du paquet qui contiendra la nouvelle version
                        </para>
                    </listitem>
                    <listitem>
                        <para>--name*: nom de la nouvelle version à créer.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--notes: notes à propos de la nouvelle version
                        </para>
                    </listitem>
                    <listitem>
                        <para>--changes: changements de cette nouvelle version
                        </para>
                    </listitem>
                    <listitem>
                        <para>--status_id: status_id de la nouvelle version. Par défaut (si non spécifié), le statut est actif.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--release_date: date de la nouvelle version, au format YYYY-MM-DD. Par défaut, la date de la version est la date courante.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande addrelease</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php frs addrelease --package_id=6 --name="new version" --notes="somes notes about this release" --changes="the changes of this new release" --status_id=1
84
                        </programlisting>
                    </example>
                    <note>Note: La valeur retournée (84) est l'identifiant de la nouvelle version créée.</note>
               </para>
            </para>
        </section>
        
        <section id="FRSFunctionFiles">
            <title>files</title>
            <para>files: Affiche une liste des fichiers disponibles pour un projet, un paquet et une version donnée.
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--package_id*: l'identifiant du paquet
                        </para>
                    </listitem>
                    <listitem>
                        <para>--release_id*: l'identifiant de la version
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande files</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php frs files --package_id=6 --release_id=49
Array
(
    [0] => Array 
            (
                [file_id] => 196
                [release_id] => 49
                [filename] => p6_r49/my_file.odg
                [file_size] => 128
                [type_id] => 6000
                [processor_id] => 2000
                [release_time] => 1163776835
                [post_date] => 1163776835
             )
     ...
)
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>
        
        <section id="FRSFunctionAddFile">
            <title>addfile</title>
            <para>addfile: Ajoute un fichier au système de gestion des fichiers
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--package_id*: identifiant du paquet qui contiendra le fichier
                        </para>
                    </listitem>
                    <listitem>
                        <para>--release_id*: identifiant de la version qui contiendra le fichier
                        </para>
                    </listitem>
                    <listitem>
                        <para>--local_file(*): emplacement (local) du fichier à ajouter. Utilisez cet argument si votre fichier est local. Votre fichier sera téléchargé sur le serveur. Pour ajouter des fichiers de grosse taille, merci d'utiliser la méthode d'upload décrite ci-dessous, car des problèmes mémoires peuvent survenir. Au moins un des arguments --local_file ou --uploaded_file est obligatoire, selon la méthode utilisée pour ajouter votre fichier.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--uploaded_file(*): nom du fichier à ajouter. Le fichier doit déjà se trouver dans le répertoire "incoming" du serveur. Au moins un des arguments --local_file ou --uploaded_file est obligatoire, selon la méthode utilisée pour ajouter votre fichier.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--type_id: type_id du fichier
                        </para>
                    </listitem>
                    <listitem>
                        <para>--processor_id: processor_id du fichier
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project: nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande addfile</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php frs addfile --package_id=6 --release_id=49 --local_file=/home/mnazaria/my_file.pdf
627

(pour un fichier local ou)

[mnazaria@linux codex cli ]$ ./codex.php frs addfile --package_id=6 --release_id=49 --uploaded_file=my_file.pdf
627

(pour un fichier déjà téléchargé dans le répertoire incoming de votre serveur)
                        </programlisting>
                    </example>
                    <note>Note: La valeur retournée (627) est l'identifiant du nouveau fichier créé.</note>
               </para>
               <para>
                <note>Note: Si vous rencontrez des problèmes de mémoire en essayant de télécharger des fichiers volumineux, vous pouvez augmenter
                la mémoire en modifiant la directive memory_limit dans le fichier de configuration de PHP (php.ini).
                Si les problèmes persistent, il est conseillé de charger auparavant les fichiers sur le serveur (via scp ou ftp), puis d'utiliser 
                la deuxième méthode (--uploaded_file)</note>
               </para>
            </para>
        </section>
        
        <section id="FRSFunctionGetFile">
            <title>getfile</title>
            <para>getfile: Retourne le contenu du fichier
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--package_id* : identifiant du paquet dans lequel se trouve le fichier
                        </para>
                    </listitem>
                    <listitem>
                        <para>--release_id* : identifiant de la version dans laquelle se trouve le fichier
                        </para>
                    </listitem>
                    <listitem>
                        <para>--file_id* : identifiant du fichier à retourner
                        </para>
                    </listitem>
                    <listitem>
                        <para>--output : emplacement où télécharger le fichier. Si non spécifié, le contenu du fichier sera affiché sur la sortie standard.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project : nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande getfile</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php frs getfile --package_id=6 --release_id=49 --file_id=644 --output=/home/mnazaria/downloaded_file.pdf
File retrieved successfully.
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>
        
    </section>
    
    <section id="DocmanFunctions">
        <title>Fonction du Gestionnaire de Documents</title>
        
        <para>Ce module fonctionne avec le plugin docman et nécessite que le plugin soit installé.</para>
        
        <section id="DocmanFunctionList">
            <title>list</title>
            <para>list : Affiche la liste des items contenus dans un dossier
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--id* : l'identifiant du dossier.
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project : nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande list</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php docman list --id=59 --project=myproject
Array
(
    [0] => Array 
            (
                [item_id] => 241
                [parent_id] => 59
                [group_id] => 112
                [title] => CLI User Guide
                [description] => The PDF version of the CLI User Guide
                [create_date] => 1170168829
                [update_date] => 1170168829
                [delete_date] => 
                [user_id] => 102
                [status] => 0
                [obsolescence_date] => 0
                [rank] => -2
                [item_type] => 1
             )
    [1] => Array 
            (
                [item_id] => 296
                [parent_id] => 59
                [group_id] => 112
                [title] => CLI User Guide
                [description] => The HTML version of the CLI User Guide
                [create_date] => 1172759281
                [update_date] => 1172759281
                [delete_date] => 
                [user_id] => 102
                [status] => 0
                [obsolescence_date] => 0
                [rank] => -2
                [item_type] => 3
             )
    
)
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>
    
        <section id="DocmanFunctionCreateDocument">
            <title>createDocument</title>
            <para>createDocument : Ajoute un document au gestionnaire de documents
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--parent_id* : identifiant du parent dans lequel le document sera créé
                        </para>
                    </listitem>
                    <listitem>
                        <para>--title* : Titre de nouveau document
                        </para>
                    </listitem>
                    <listitem>
                        <para>--description : Description du nouveau document
                        </para>
                    </listitem>
                    <listitem>
                        <para>--type* : nature du document. Les types disponibles sont "file", "link", "wiki", and "embedded_file"
                        </para>
                    </listitem>
                    <listitem>
                        <para>--content* : contenu du document, selon le type du document :
                            <itemizedlist mark="bullet">
                                <listitem><para>l'emplacement du fichier pour le type "file"</para></listitem>
                                <listitem><para>l'URL pour le type "link"</para></listitem>
                                <listitem><para>le nom de la page wiki pour le type "wiki"</para></listitem>
                                <listitem><para>le contenu brut pour le type "embedded_file".</para></listitem>
                            </itemizedlist>
                        </para>
                    </listitem>
                    <listitem>
                        <para>--ordering : place du document dans le dossier parent. Les valeur possibles sont "begin" et "end"
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project : nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande createDocument</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php docman createDocument --project=myproject --parent_id=60 --title="Document added from CLI" --type=link --content="http://www.xerox.com"
1
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>
        
        <section id="DocmanFunctionCreateFolder">
            <title>createFolder</title>
            <para>createFolder : Ajoute un dossier au gestionnaire de documents
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--parent_id* : identifiant du parent danslequel le dossier sera créé
                        </para>
                    </listitem>
                    <listitem>
                        <para>--title* : Titre du nouveau dossier
                        </para>
                    </listitem>
                    <listitem>
                        <para>--description : Description du nouveau dossier
                        </para>
                    </listitem>
                    <listitem>
                        <para>--ordering : place du dossier dans le dossier parent. Les valeurs possibles sont "begin" et "end"
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project : nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>createFolder command</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php docman createFolder --project=myproject --parent_id=60 --title="Tech docs folder"
1
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>
        
        <section id="DocmanFunctionDelete">
            <title>delete</title>
            <para>delete : Supprime un item
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--id* : identifiant de l'item à supprimer
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project : nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande delete</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php docman delete --project=myproject --id=361
1
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>
        
        <section id="DocmanFunctionMonitor">
            <title>monitor</title>
            <para>monitor : Surveiller un item
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--id* : identifiant de l'item à surveiller
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project : nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>commande monitor</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php docman monitor --project=myproject --id=249
1
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>
        
        <section id="DocmanFunctionMove">
            <title>move</title>
            <para>move : Déplace un item
                <itemizedlist mark="bullet">
                    <listitem>
                        <para>--id* : identifiant de l'item à déplacer
                        </para>
                    </listitem>
                    <listitem>
                        <para>--parent* : identifiant du dossier dans lequel l'item sera déplacé
                        </para>
                    </listitem>
                    <listitem>
                        <para>--project : nom UNIX du projet. Si vous ne le spécifiez pas, le projet spécifié lors de la connexion sera utilisé. Si aucun projet n'a été spécifié lors du login, une erreur sera affichée.
                        </para>
                    </listitem>
                </itemizedlist>
                <para>
                    <example>
                        <title>move command</title>
                        <programlisting format="linespecific" linenumbering="unnumbered" width="80">
[mnazaria@linux codex cli ]$ ./codex.php docman move --project=myproject --id=241 --parent=59
1
                        </programlisting>
                    </example>
               </para>
            </para>
        </section>
        
    </section>

</chapter>
<!--
Local Variables:
sgml-parent-document: ("CodeX_CLI.xml" "book" "chapter")
End:
-->

