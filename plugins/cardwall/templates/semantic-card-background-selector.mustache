{{# background_color_presenter }}
    {{^ has_at_least_one_field_selectable_for_color }}
        {{# dgettext }}
            tuleap-cardwall |
            No field can be chosen for card color background. Only selectbox and radiobutton bind on static values with no value linked to the old color picker can be used.
        {{/ dgettext }}
    {{/ has_at_least_one_field_selectable_for_color }}

    {{# has_at_least_one_field_selectable_for_color }}
        <form action="{{ semantic_url }}" method="POST">
            {{# csrf_token }}
                {{> csrf_token_input }}
            {{/ csrf_token }}
            <p>
                {{# dgettext }} tuleap-cardwall | Only selectbox and radiobutton bind on static values with no value linked to
                    the old color picker can be used.
                {{/ dgettext }}
            </p>
            <div class="tlp-form-element">
                <label class="tlp-label" for="choose-color-field">
                    {{# dgettext }} tuleap-cardwall | Field to define card background color {{/ dgettext }}
                </label>
                <select name="choose-color-field" class="tlp-select">
                    <option>{{# dgettext }} tuleap-cardwall | Choose a field... {{/ dgettext }}</option>
                    {{# form_elements }}
                        <option value="{{ id }}" {{# is_selected }}selected="selected"{{/ is_selected }}>{{ name }}</option>
                    {{/ form_elements }}
                </select>

                {{# background_color_presenter }}
                    {{# has_background_field_defined }}
                        <p class="tlp-text-info">
                            <a href="{{ field_admin_link }}">
                                <i class="fa-solid fa-arrow-right-long" aria-hidden="true"></i>
                                {{# dgettext }}
                                    tuleap-cardwall |
                                    Go to field administration
                                {{/ dgettext }}
                            </a>
                        </p>
                    {{/ has_background_field_defined }}
                {{/ background_color_presenter }}
            </div>

            <div class="tlp-pane-section-submit">
                <input type="submit"
                       class="tlp-button-primary"
                       value="{{# dgettext }} tuleap-cardwall | Submit {{/ dgettext }}"/>
                {{# has_background_field_defined }}
                    <input type="submit"
                           class="tlp-button-danger tlp-button-outline"
                           name="unset-background-color-semantic"
                           value="{{# dgettext }} tuleap-cardwall | Remove background color {{/ dgettext }}"/>
                {{/ has_background_field_defined }}
            </div>
        </form>
    {{/ has_at_least_one_field_selectable_for_color }}
{{/ background_color_presenter }}
