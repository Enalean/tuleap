<h1 class="project-administration-title" data-test="git-administration-page">{{ git_admin }}</h1>

<div class="main-project-tabs">
    <nav class="tlp-tabs">
        <a class="tlp-tab" href="/plugins/git/?action=admin-gerrit-templates&group_id={{ project_id }}">{{ tab_gerrit_templates }}</a>
        <a class="tlp-tab" href="/plugins/git/?action=admin-git-admins&group_id={{ project_id }}">{{ tab_git_admins }}</a>
        <a class="tlp-tab" href="/plugins/git/?action=admin-default-settings&group_id={{ project_id }}">{{ tab_template_settings }}</a>
        {{# external_pane_presenters }}
            <a class="tlp-tab {{# is_active }}tlp-tab-active{{/ is_active }}" href="{{ uri }}">{{ pane_name }}</a>
        {{/ external_pane_presenters }}
    </nav>
</div>
<div class="tlp-framed">
    <section class="tlp-pane">
        <div class="tlp-pane-container">
            <div class="tlp-pane-header">
                <h1 class="tlp-pane-title">Jenkins</h1>
            </div>
            <div class="tlp-pane-section">
                <p>
                    {{# dgettext }} tuleap-hudson_git | Configuration of Jenkins servers that will be triggered at each push in any repository of the project. {{/ dgettext }}
                </p>

                <div class="tlp-table-actions">
                    <button
                        type="button"
                        class="tlp-button-primary tlp-table-actions-element jenkins-modal-trigger"
                        data-target-modal-id="modal-add-jenkins-server"
                    >
                        <i class="fa-solid fa-plus tlp-button-icon" aria-hidden="true"></i>
                        {{# dgettext }} tuleap-hudson_git | Add a Jenkins server{{/ dgettext }}
                    </button>

                    {{> modal-add-jenkins-server }}
                </div>

                <table class="tlp-table">
                    <thead>
                    <tr>
                        <th>{{# dgettext }} tuleap-hudson_git | Jenkins URL{{/ dgettext }}</th>
                        <th></th>
                    </tr>
                    </thead>
                    <tbody>
                    {{# jenkins_server_presenters }}
                        <tr>
                            <td>
                                {{ jenkins_server_url }}
                            </td>
                            <td class="tlp-table-cell-actions">
                                <button type="button"
                                        class="tlp-button-primary tlp-button-small tlp-button-outline tlp-table-cell-actions-button jenkins-modal-trigger"
                                        data-target-modal-id="modal-logs-{{ jenkins_server_id }}"
                                >
                                    <i class="fa-solid fa-list tlp-button-icon" aria-hidden="true"></i>
                                    {{# dgettext }} tuleap-hudson_git | Logs{{/ dgettext }}
                                </button>
                                <button type="button"
                                        class="tlp-button-danger tlp-button-small tlp-button-outline tlp-table-cell-actions-button jenkins-modal-trigger"
                                        data-target-modal-id="modal-remove-{{ jenkins_server_id }}"
                                >
                                    <i class="fa-regular fa-trash-alt tlp-button-icon" aria-hidden="true"></i>
                                    {{# dgettext }} tuleap-hudson_git | Delete{{/ dgettext }}
                                </button>

                                {{> modal-logs }}
                                {{> modal-remove-jenkins-server }}
                            </td>
                        </tr>
                    {{/ jenkins_server_presenters }}
                    {{^ jenkins_server_presenters }}
                    <tr>
                        <td class="tlp-table-cell-empty" colspan="2">
                            {{# dgettext }} tuleap-hudson_git | No Jenkins server configured yet.{{/ dgettext }}
                        </td>
                    </tr>
                    {{/ jenkins_server_presenters }}
                    </tbody>
                </table>
            </div>
        </div>
    </section>
</div>
