<h1 class="project-administration-title">{{ admin_title }}</h1>

<div class="main-project-tabs">
    <nav class="tlp-tabs">
        <a class="tlp-tab tlp-tab-active" href="?group_id={{ group_id }}&pane=permissions">{{ permissions_label }}</a>
        <a class="tlp-tab" href="?group_id={{ group_id }}&pane=language">{{ language_label }}</a>
    </nav>
</div>

<div class="tlp-framed">

    <form name="admin_group_mediawiki" class="admin_group_mediawiki" method="post" action="{{ route }}">

        {{# can_show_options }}
            <section class="tlp-pane">
                <div class="tlp-pane-container">
                    <div class="tlp-pane-header">
                        <h1 class="tlp-pane-title">
                            {{ options_title }}
                        </h1>
                    </div>
                    <div class="tlp-pane-section">
                        <label class="tlp-checkbox">
                            <input type="checkbox" name="enable_compatibility_view" {{# is_compatibility_enabled_value }} checked="checked" {{/ is_compatibility_enabled_value }} value="1" />
                            {{ compatibility_view_text }}
                        </label>
                    </div>
                </div>
            </section>
        {{/ can_show_options }}

        <section class="tlp-pane">
            <div class="tlp-pane-container">
                <div class="tlp-pane-header">
                    <h1 class="tlp-pane-title">
                        {{ access_control_title }}
                    </h1>
                </div>
                <div class="tlp-pane-section">
                    <p>{{ access_control_intro }}</p>
                    <div class="mediawiki-admin-permissions">
                        <div class="tlp-form-element">
                            <label class="tlp-label" for="read_ugroups">{{ read }}</label>
                            <select
                                title="{{ read }}"
                                multiple="multiple"
                                name="read_ugroups[]"
                                id="read_ugroups"
                                size="8"
                                data-test="mediawiki-read-ugroups"
                                class="tlp-select tlp-select-adjusted"
                            >
                                {{# read_ugroups }}
                                    <option value="{{ value }}" {{# selected }}selected="selected"{{/ selected }}>{{ label }}</option>
                                {{/ read_ugroups }}
                            </select>
                        </div>

                        <div class="tlp-form-element">
                            <label class="tlp-label" for="write_ugroups">{{ write }}</label>
                            <select
                                title="{{ write }}"
                                multiple="multiple"
                                name="write_ugroups[]"
                                id="write_ugroups"
                                size="8"
                                data-test="mediawiki-write-ugroups"
                                class="tlp-select tlp-select-adjusted"
                            >
                                {{# write_ugroups }}
                                    <option value="{{ value }}" {{# selected }}selected="selected"{{/ selected }}>{{ label }}</option>
                                {{/ write_ugroups }}
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="tlp-pane">
            <div class="tlp-pane-container">
                <div class="tlp-pane-header">
                    <h1 class="tlp-pane-title">
                        {{ title }}
                    </h1>
                </div>
                <div class="tlp-pane-section">
                    <p>{{ help_intro }}</p>
                    <p>{{{ help_link }}}</p>
                    <p>{{ help_project }}</p>
                    {{# groups_permissions }}
                        <div class="mediawiki-admin-permissions">
                            <div class="tlp-form-element">
                                {{# available_groups }}
                                    <label class="tlp-label" for="{{ id }}">{{ tuleap_group_label }}</label>
                                    {{> selectbox }}
                                {{/ available_groups }}
                            </div>
                            <div class="mediawiki-admin-permissions-buttons">
                                <button type="button" class="forge_mw_add_ugroup tlp-button-secondary tlp-button-small"><i class="fa fa-chevron-right"></i></button>
                                <button type="button" class="forge_mw_remove_ugroup tlp-button-secondary tlp-button-small"><i class="fa fa-chevron-left"></i></button>
                            </div>
                            <div class="tlp-form-element">
                                {{# selected_groups }}
                                    <label class="tlp-label" for="{{ id }}">{{ mediawiki_group_label }}</label>
                                    <input type="hidden" name="{{ hidden_selected_groups_name }}" class="forge_mw_hidden_selected_groups" value="{{ hidden_selected_groups_value }}"/>
                                    {{> selectbox }}
                                {{/ selected_groups }}
                            </div>
                        </div>
                    {{/ groups_permissions }}
                </div>
            </div>
        </section>

        {{# csrf_token }}
            {{> csrf_token_input }}
        {{/csrf_token}}

        <input type="submit"
               name="submit"
               value="{{ submit_label }}"
               class="tlp-button-primary"
               data-test="mediawiki-administration-permission-submit-button"
        />
        {{ or_string }}
        <input type="submit" name="restore" value="{{ restore_label }}" class="tlp-button-danger"/>
    </form>
</div>
