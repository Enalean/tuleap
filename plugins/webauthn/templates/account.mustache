<div class="user-preferences">
    <h1 class="user-preferences-title">
        {{# gettext }}Preferences{{/ gettext }}
    </h1>

    <div class="user-preferences-container">
        {{> user-account-tabs }}

        {{> name-modal }}

        <div class="user-preferences-section">
            <section class="tlp-pane">
                <div class="tlp-pane-container">
                    <div class="tlp-pane-header">
                        <h1 class="tlp-pane-title">
                            <i class="tlp-pane-title-icon fa-solid fa-key" aria-hidden="true"></i>
                            {{# dgettext }} tuleap-webauthn | Passkeys {{/ dgettext }}
                        </h1>
                    </div>

                    {{^ has_passkey }}
                        <div class="tlp-pane-section webauthn-hidden" id="webauthn-section">
                            <button type="button" class="tlp-button-primary" id="webauthn-add-button"
                                    data-test="add-button" data-target-modal-id="webauthn-name-modal">
                                <i class="fa-solid fa-circle-notch fa-spin tlp-button-icon webauthn-hidden"
                                   aria-hidden="true"></i>
                                {{# dgettext }} tuleap-webauthn | Add a passkey {{/ dgettext }}
                            </button>
                            <p class="tlp-text-danger webauthn-hidden" id="webauthn-error">
                                {{# dgettext }} tuleap-webauthn | Unable to register your passkey {{/ dgettext }}
                            </p>
                        </div>
                    {{/ has_passkey }}

                    {{# has_passkey }}
                        <div class="tlp-pane-section webauthn-hidden" id="webauthn-section"
                             data-test="registered-section">
                            <p>{{# dgettext }} tuleap-webauthn | You have a registered passkey {{/ dgettext }}</p>
                            <button type="button" class="tlp-button-primary" id="webauthn-check-button"
                                    data-test="check-button">
                                <i class="fa-solid fa-circle-notch fa-spin tlp-button-icon webauthn-hidden"
                                   aria-hidden="true"></i>
                                {{# dgettext }} tuleap-webauthn | Check it {{/ dgettext }}
                            </button>
                            <p class="webauthn-hidden" id="webauthn-message" data-test="webauthn-message"></p>
                        </div>
                    {{/ has_passkey }}

                    <div class="tlp-pane-section webauthn-hidden" id="webauthn-disabled-section">
                        <p class="tlp-text-warning">
                            <i class="fa-solid fa-warning" aria-hidden="true"></i>
                            {{# dgettext }} tuleap-webauthn | Your browser doesn't support WebAuthn {{/ dgettext }}
                        </p>
                    </div>
                </div>
            </section>
        </div>
    </div>
</div>
