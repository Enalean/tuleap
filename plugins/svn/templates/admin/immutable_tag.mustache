{{> admin/section_presenter_burning_parrot }}

<div class="tlp-framed">
    <section class="tlp-pane">
        <div class="tlp-pane-container">
            <div class="tlp-pane-header">
                <h1 class="tlp-pane-title">
                    <i class="fa-solid fa-tags tlp-pane-title-icon" aria-hidden="true"></i>
                    {{# dgettext }}tuleap-svn | Immutable tags configuration{{/ dgettext }}
                </h1>
            </div>
            <form action="/plugins/svn/?group_id={{ project_id }}&action=save-immutable-tag&repo_id={{ repository_id }}" method="post" class="tlp-pane-section">
                <input type="hidden" name="group_id" value="{{ project_id }}">
                <input type="hidden" name="func" value="immutable_tags">
                <input type="hidden" name="post_changes" value="y">

                <p>{{# dgettext }}tuleap-svn | Specify folders where immutable tags will be located. You can specify a whitelist of folders where you will be able to do modifications.{{/ dgettext }}</p>
                <div class="tlp-alert-warning" id="immutable-tag-to-big-warning" hidden>{{# dgettext }}tuleap-svn | The list of immutable tags paths is too big.{{/ dgettext }}</div>
                <div class="tlp-alert-warning" id="whitelist-tag-to-big-warning" hidden>{{# dgettext }}tuleap-svn | The list of global whitelist is too big.{{/ dgettext }}</div>
                <div class="immutable-tags-configuration">
                    <div class="tlp-form-element">
                        <label for="immutable-tags-path" class="tlp-label">
                            {{# dgettext }}tuleap-svn | Immutable tags paths{{/ dgettext }}
                        </label>
                        <textarea
                            rows="5"
                            name="immutable-tags-path"
                            id="immutable-tags-path"
                            placeholder="/tags"
                            maxlength="65535"
                            class="tlp-textarea"
                        >{{ immutable_tags_path }}</textarea>
                    </div>
                    <div class="tlp-form-element">
                        <label for="immutable-tags-whitelist" class="tlp-label">
                            {{# dgettext }}tuleap-svn | Global whitelist{{/ dgettext }}
                        </label>
                        <textarea
                            rows="5"
                            name="immutable-tags-whitelist"
                            id="immutable-tags-whitelist"
                            placeholder="/tags/moduleX"
                            maxlength="65535"
                            class="tlp-textarea"
                        >{{ immutable_tags_whitelist }}</textarea>
                    </div>
                </div>

                <div class="tlp-pane-section-submit">
                    {{# csrf_token }}
                        {{> csrf_token_input }}
                    {{/ csrf_token }}

                    <button type="submit" name="submit" class="tlp-button-primary">
                        <i class="fa-solid fa-save tlp-button-icon" aria-hidden="true"></i>
                        {{# dgettext }}tuleap-svn | Save configuration{{/ dgettext }}
                    </button>
                </div>
            </form>
        </div>
    </section>
</div>
