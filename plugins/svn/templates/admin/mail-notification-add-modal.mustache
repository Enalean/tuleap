<form id="svn-notification-add-modal"
      role="dialog"
      aria-labelledby="svn-notification-add-modal-title"
      class="tlp-modal"
      action="/plugins/svn/?group_id={{ project_id }}&repo_id={{ repository_id }}&action=update-mailing-lists"
      method="post"
>
    <div class="tlp-modal-header">
        <h1 class="tlp-modal-title" id="svn-notification-add-modal-title">
            {{# dgettext }}tuleap-svn | Add notification {{/dgettext}}
        </h1>
        <button class="tlp-modal-close" type="button" data-dismiss="modal" aria-label="{{# gettext }}Close{{/ gettext }}">
            <i class="fa-solid fa-xmark tlp-modal-close-icon" aria-hidden="true"></i>
        </button>
    </div>
    <div class="tlp-modal-body">
        <div class="tlp-form-element">
            <label class="tlp-label" for="path-add">
                {{# dgettext }}tuleap-svn | Monitored path {{/dgettext}}
                <i class="fa-solid fa-asterisk" aria-hidden="true"></i>
            </label>
            <input type="text"
                   class="tlp-input"
                   name="notification_add[path]"
                   data-test="svn-add-path"
                   id="path-add"
                   required
                   placeholder="/path/to/folder/"
            >
        </div>

        <div class="tlp-form-element">
            <label class="tlp-label" for="ugroups-add">
                {{# dgettext }}tuleap-svn | User groups that will receive the notification {{/dgettext}}
            </label>
            <select id="ugroups-add"
                    data-test="svn-add-ugroups"
                    name="notification_add[ugroup_ids][]"
                    class="tlp-select"
                    multiple
            >
                {{# ugroups }}
                    <option value="{{ id }}" {{# selected }}selected{{/ selected }}>{{ name }}</option>
                {{/ ugroups }}
            </select>
        </div>

        <div class="tlp-form-element svn-monitor-autocompleter-user"
             data-id="user-add"
             data-name="notification_add[users]"
             data-existing="[]"
             data-test="svn-add-users"
        >
            <label class="tlp-label" for="user-add">
                {{# dgettext }}tuleap-svn | Users who will receive the notification {{/dgettext}}
            </label>
        </div>

        <div class="tlp-form-element">
            <label class="tlp-label" for="email-add">
                {{# dgettext }}tuleap-svn | Emails who will receive the notification {{/dgettext}}
            </label>
            <input type="text"
                   id="email-add"
                   data-test="svn-add-email"
                   name="notification_add[emails]"
                   class="tlp-input"
                   placeholder="developers@example.com"
            />
            <p class="tlp-text-info">
                {{# dgettext }}tuleap-svn | A comma-separated list of email addresses. {{/dgettext}}
                {{# dgettext }}tuleap-svn | These can be mailing list addresses or external recipients. {{/dgettext}}
            </p>
        </div>

        <input type="hidden" name="group_id" value="{{ project_id }}">
        <input type="hidden" name="repo_id" value="{{ repository_id }}">
        {{# csrf_token }}
            {{> csrf_token_input }}
        {{/ csrf_token }}
    </div>
    <div class="tlp-modal-footer">
      <button type="button" data-dismiss="modal" class="tlp-button-primary tlp-button-outline tlp-modal-action">
          {{# gettext }}Cancel{{/ gettext }}
      </button>
      <button type="submit"
              class="tlp-button-primary tlp-modal-action"
              name="save-mailing-lists"
              value="1"
              data-test="svn-save-notifications"
      >
          <i class="fa-solid fa-plus tlp-button-icon" aria-hidden="true"></i>
          {{# dgettext }} tuleap-svn | Add the notification {{/ dgettext }}
      </button>
    </div>
</form>
