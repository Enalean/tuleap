<!--
  ~ Copyright (c) Enalean, 2018 - Present. All Rights Reserved.
  ~
  ~ This file is a part of Tuleap.
  ~
  ~ Tuleap is free software; you can redistribute it and/or modify
  ~ it under the terms of the GNU General Public License as published by
  ~ the Free Software Foundation; either version 2 of the License, or
  ~ (at your option) any later version.
  ~
  ~ Tuleap is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  ~ GNU General Public License for more details.
  ~
  ~ You should have received a copy of the GNU General Public License
  ~ along with Tuleap. If not, see <http://www.gnu.org/licenses/>.
  -->

<div ng-if="$ctrl.is_loading" class="pull-request-file-diff-loading"></div>

<div ng-if="$ctrl.has_potentially_dangerous_bidirectional_unicode_text" class="tlp-alert-warning pull-request-file-diff-bidi-warning">
    <p translate>
        This file contains bidirectional Unicode text. It may be interpreted differently than what is shown.
        This might be used to inject malicious code that looks safe.
        You should review the file in an editor that reveals hidden Unicode characters.
    </p>
</div>

<div ng-if="$ctrl.is_binary_file" class="pull-request-file-diff-not-displayable-file">
    <i class="far fa-file"></i><br>{{:: 'Binary file' | translate }}
</div>

<div ng-if="$ctrl.special_format === 'git-lfs'" class="pull-request-file-diff-not-displayable-file">
    <i class="far fa-file"></i><br>{{:: 'Git LFS file' | translate }}
</div>

<file-unidiff
    ng-if="$ctrl.shouldShowUnifiedDiff()"
    class="pull-request-file-unidiff"
    diff="$ctrl.diff"
    file-path="{{ $ctrl.file_path }}"
    pull-request-id="{{ $ctrl.pull_request_id }}"
    comment-id="{{ $ctrl.comment_id }}"
></file-unidiff>
<side-by-side-diff
    ng-if="$ctrl.shouldShowSideBySideDiff()"
    class="pull-request-file-side-by-side"
    diff="$ctrl.diff"
    file-path="{{ $ctrl.file_path }}"
    pull-request-id="{{ $ctrl.pull_request_id }}"
    comment-id="{{ $ctrl.comment_id }}"
></side-by-side-diff>
