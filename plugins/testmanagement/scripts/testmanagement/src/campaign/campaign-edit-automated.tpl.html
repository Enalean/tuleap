<form class="tlp-modal"
      name="editCampaignAutomatedForm"
      ng-submit="editCampaignAutomated(campaign)">
    <div class="tlp-modal-header">
      <h1 class="tlp-modal-title">
          <span translate>Configure automated tests</span>
      </h1>
      <button class="tlp-modal-close" type="button" data-dismiss="modal" aria-label="{{ 'Close' | translate }}"><i class="fas fa-times tlp-modal-close-icon" aria-hidden="true"></i></button>
    </div>

    <div class="tlp-modal-body">
        <h2 class="tlp-modal-subtitle" translate>Jenkins job</h2>
        <div class="tlp-form-element"
             ng-class="{ 'tlp-form-element-error': editCampaignAutomatedForm.campaign_job_url.$dirty && editCampaignAutomatedForm.campaign_job_url.$invalid }"
        >
            <label class="tlp-label" for="campaign-job-url" translate>Job URL</label>
            <input type="url"
                   class="tlp-input edit-campaign-job-url-input"
                   id="campaign-job-url"
                   name="campaign_job_url"
                   ng-model="campaign.job_configuration.url"
                   placeholder="https://jenkins.example.com"
            />
            <p class="tlp-text-info" translate>The URL to a Jenkins job that will execute automated tests</p>
        </div>
        <div class="tlp-form-element">
            <label class="tlp-label" for="campaign-job-token" translate>Authentication Token</label>
            <input type="text"
                   class="tlp-input edit-campaign-job-token-input"
                   id="campaign-job-token"
                   name="campaign_job_token"
                   ng-model="campaign.job_configuration.token"
                   placeholder="{{ ::'Jenkins authentication token' | translate }}"
            />
            <p class="tlp-text-info" translate>An authentication token that authorizes Tuleap to trigger this Jenkins job</p>
        </div>
    </div>

    <div class="tlp-modal-footer">
        <button type="button"
                class="tlp-button-primary tlp-button-outline tlp-modal-action"
                data-dismiss="modal">
            {{ 'Cancel' | translate }}
        </button>
        <button type="submit"
                class="tlp-button-primary tlp-modal-action"
                ng-disabled="submitting_changes || ! editCampaignAutomatedForm.$valid">
            <i class="tlp-button-icon fas fa-circle-notch fa-spin" ng-if="submitting_changes" aria-hidden="true"></i>
            {{ 'Save changes' | translate }}
        </button>
    </div>
</form>
