<!--
  - Copyright (c) Enalean, 2022 - present. All Rights Reserved.
  -
  - This file is a part of Tuleap.
  -
  - Tuleap is free software; you can redistribute it and/or modify
  - it under the terms of the GNU General Public License as published by
  - the Free Software Foundation; either version 2 of the License, or
  - (at your option) any later version.
  -
  - Tuleap is distributed in the hope that it will be useful,
  - but WITHOUT ANY WARRANTY; without even the implied warranty of
  - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  - GNU General Public License for more details.
  -
  - You should have received a copy of the GNU General Public License
  - along with Tuleap. If not, see <http://www.gnu.org/licenses/>.
  -->

<template>
    <div class="gitlab-no-group-linked-empty-state">
        <svg
            width="360"
            height="245"
            viewBox="0 0 260 145"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
        >
            <g clip-path="url(#a)">
                <path
                    d="M234.5 105c0 57.99-47.01 105-105 105s-105-47.01-105-105S71.51 0 129.5 0s105 47.01 105 105Z"
                    fill="url(#b)"
                />
                <path
                    fill="var(--tlp-illustration-main-color)"
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M186.096 67.786h23.788c2.735 0 5.049 2.263 5.049 4.937v23.04c0 2.778-2.314 4.938-5.049 4.938h-37.777c-2.84 0-5.049-2.16-5.049-4.937V66.14c0-2.675 2.209-4.938 5.049-4.938h7.256l6.733 6.583Zm-2.925 5.416c.147-.443.783-.443.93 0l2.74 8.606h-6.46l2.79-8.606Zm-2.79 8.606-1.419 4.328c-.098.393.049.836.391 1.082l12.089 9.049-11.061-14.459Zm15.71 0h-9.25l4.65 14.459 12.088-9.05c.342-.245.489-.688.391-1.081l-1.419-4.328-2.79-8.606c-.146-.443-.734-.443-.929 0l-2.741 8.606Zm0 0-4.6 14.459 11.06-14.459h-6.46ZM64.096 67.786h23.788c2.735 0 5.05 2.263 5.05 4.937v23.04c0 2.778-2.315 4.938-5.05 4.938H50.107c-2.84 0-5.05-2.16-5.05-4.937V66.14c0-2.675 2.21-4.938 5.05-4.938h7.256l6.733 6.583Zm2.435 7.645a1.261 1.261 0 1 1-2.523 0 1.261 1.261 0 0 1 2.523 0Zm-.083 3.249a3.457 3.457 0 0 0-1.178-6.705 3.455 3.455 0 0 0-1.016 6.76v10.872a3.457 3.457 0 0 0 1.015 6.76 3.455 3.455 0 0 0 1.383-6.624c.15-.392.36-.867.635-1.334.67-1.14 1.54-1.936 2.647-1.936 2.204 0 3.448-1.223 4.081-2.4a6.097 6.097 0 0 0 .611-1.752 3.457 3.457 0 0 0-1.226-6.687 3.455 3.455 0 0 0-1.047 6.75c-.064.205-.152.43-.27.65-.348.645-.938 1.245-2.15 1.245-1.514 0-2.657.724-3.485 1.6V78.68Zm8.213.41a1.261 1.261 0 1 1-2.522 0 1.261 1.261 0 0 1 2.522 0Zm-9.392 15.082a1.261 1.261 0 1 0 0-2.522 1.261 1.261 0 0 0 0 2.522Z"
                />
                <circle fill="var(--tlp-illustration-red)" cx="130.363" cy="53.613" r="14.363" />
                <path
                    d="M134.513 51.817h-3.74a.308.308 0 0 1-.296-.394l2.096-7.203c.179-.615-.644-1.004-1.006-.476l-6.378 9.301a1.127 1.127 0 0 0 .929 1.765h3.823c.208 0 .357.203.293.401l-2.02 6.314c-.194.607.611 1.019.99.506l6.216-8.417a1.127 1.127 0 0 0-.907-1.797Z"
                    fill="#F7FBFD"
                />
                <path
                    fill="var(--tlp-illustration-main-color)"
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M122.726 92.323h-7.182a2.394 2.394 0 0 1-2.394-2.394v-3.59H89a1.197 1.197 0 0 1 0-2.395h24.15v-3.59a2.394 2.394 0 0 1 2.394-2.394h7.182v2.394h3.59a1.197 1.197 0 0 1 0 2.393h-3.59v4.788h3.59a1.197 1.197 0 1 1 0 2.394h-3.59v2.394Zm23.937-5.985h27.151a1.196 1.196 0 0 0 0-2.394h-27.151v-3.59a2.393 2.393 0 0 0-2.393-2.394h-7.182v14.363h7.182a2.393 2.393 0 0 0 2.393-2.394v-3.59Z"
                />
            </g>
            <defs>
                <linearGradient
                    id="b"
                    x1="129.5"
                    y1="0"
                    x2="129.5"
                    y2="124.408"
                    gradientUnits="userSpaceOnUse"
                >
                    <stop offset=".416" stop-color="var(--tlp-illustration-grey-on-background)" />
                    <stop
                        offset="1"
                        stop-color="var(--tlp-illustration-grey-on-background)"
                        stop-opacity="0"
                    />
                </linearGradient>
                <clipPath id="a">
                    <path fill="#fff" transform="translate(.5)" d="M0 0h259v145H0z" />
                </clipPath>
            </defs>
        </svg>
        <div class="gitlab-no-group-linked-empty-state-text">
            <h1 class="empty-state-title" data-test="gitlab-no-group-linked-empty-state-title">
                {{
                    $gettext(
                        "%{ current_project_name } is currently not linked to a GitLab group",
                        { current_project_name: root_store.current_project.public_name },
                    )
                }}
            </h1>
            <p class="empty-state-text">
                {{ $gettext("Link a GitLab group to import the GitLab projects of the group.") }}
            </p>
        </div>
        <router-link
            v-bind:to="{ name: STEP_GITLAB_SERVER }"
            class="empty-state-action tlp-button-primary tlp-button-large"
            data-test="button-to-gitlab-server-pane"
        >
            {{ $gettext("Link a GitLab group to this project") }}
        </router-link>
    </div>
</template>

<script setup lang="ts">
import { useRootStore } from "../stores/root";
import { STEP_GITLAB_SERVER } from "../types";

const root_store = useRootStore();
</script>

<style scoped lang="scss">
.gitlab-no-group-linked-empty-state {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: var(--tlp-jumbo-spacing) 0;
}

.gitlab-no-group-linked-empty-state-text {
    margin: var(--tlp-large-spacing) 0 0;

    > .empty-state-text {
        margin: var(--tlp-medium-spacing) 0 0;
    }
}
</style>
